---
import { type Icon as IconType } from '@lucide/astro';
import type { ComponentProps } from 'astro/types';
import type { WithChildren } from '../../types.ts';
import Icon from './Icon.astro';
import LinkWrapper from './LinkWrapper.astro';

/**
 * Props for a navigation button with an optional icon.
 *
 * @property icon - Optional Lucide icon component to display before the label
 * @property label - Optional text label
 */
interface Props
	extends WithChildren<
		false,
		Omit<ComponentProps<typeof LinkWrapper>, 'children'>
	> {
	icon?: typeof IconType;
	label?: string;
}

const { icon, label, ...restProps } = Astro.props;
---

<LinkWrapper {...restProps}>
	{icon && <Icon {icon} />}
	<slot>{label}</slot>
</LinkWrapper>

<style>
	a {
		display: inline-flex;
		flex-direction: row;
		justify-content: center;
		align-items: center;
		gap: var(--p-xs);
		flex-grow: 1;
		padding: var(--p-sm);
		background-color: var(--bg-2);
		color: var(--fg);
		text-align: center;
		white-space: nowrap;
		cursor: pointer;
	}
</style>
